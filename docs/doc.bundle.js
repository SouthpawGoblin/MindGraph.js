!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(1)),o=document.getElementById("app");if(o){var a=new i.default.MindMap(o);a.render();var s=a.rootId,d=a.addNode(s,"primary");a.addNode(d,"secondary")}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i={MindMap:r(n(2)).default};t.default=i},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(3)),o=r(n(4)),a=function(){function e(t,n){var r=this;this.index={},this.render=function(){r.renderLoop&&(r.innerRender(),requestAnimationFrame(r.render))},this.parentDom=t,this.root=n||new o.default(e.nextId++,1,"ROOT","Main Theme"),this.index[this.root.id]=this.root;var a=document.createElement("canvas");a.id="mind-graph-mind-map",a.width=this.parentDom.clientWidth,a.height=this.parentDom.clientHeight,this.parentDom.appendChild(a),this.canvas=a,this.center={x:this.canvas.width/2,y:this.canvas.height/2};var s=this.canvas.getContext("2d");if(!s)throw new Error("Failed to get canvas context 2d.");this.ctx=s,this.scale=1,this.translate={x:0,y:0},this.control=new i.default(this),this.treeDepth=this.root.depth,this.needsUpdate=!0,this.renderLoop=!0}return Object.defineProperty(e.prototype,"rootId",{get:function(){return this.root.id},enumerable:!0,configurable:!0}),e.prototype.getCanvas=function(){return this.canvas},e.prototype.getScale=function(){return this.scale},e.prototype.getTranslate=function(){return this.translate},e.prototype.setScale=function(e){e!==this.scale&&(this.scale=e,this.needsUpdate=!0)},e.prototype.setTranslate=function(e){this.translate.x===e.x&&this.translate.y===e.y||(this.translate=e,this.needsUpdate=!0)},e.prototype.addNode=function(t,n){var r=this.index[t];if(!r)throw new Error('"addNode" failed, parent node not found.');var i="ROOT"===r.type?"PRIMARY":"SECONDARY",a=new o.default(e.nextId++,r.depth+1,i,n);return r.children.push(a),a.parent=r,this.index[a.id]=a,this.treeDepth=Math.max(this.treeDepth,a.depth),this.needsUpdate=!0,a.id},e.prototype.deleteNode=function(e){var t=this.index[e];if(!t||!t.parent)return-1;var n=t.parent.children.findIndex((function(t){return t.id===e}));return t.parent.children.splice(n,1),delete this.index[e],this.needsUpdate=!0,t.parent.id},e.prototype.updateNode=function(e,t){var n=this.index[e];if(!n)throw new Error('"updateNode" failed, node not found.');n.text=t,this.needsUpdate=!0},e.prototype.dispose=function(){this.renderLoop=!1,this.control.dispose(),this.canvas.remove()},e.prototype.innerRender=function(){if(this.needsUpdate){this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.center.x+this.translate.x,this.center.y+this.translate.y);for(var e=[this.root];e.length>0;){var t=e.shift();t&&(t.render(this.ctx,{x:400*Math.random()-200,y:400*Math.random()-200},this.scale),t.parent,t.children.forEach((function(t){e.push(t)})))}this.needsUpdate=!1}},e.nextId=0,e}();t.default=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e){var t=this;this.handleWheel=function(e){var n=t.graph.getScale()+(e.deltaY>0?-.05:.05);n<.1?n=.1:n>4&&(n=4),t.graph.setScale(n)},this.handleMouseDown=function(e){0===e.button?t.leftDragging=!0:2===e.button&&(t.rightDragging=!0)},this.handleMouseUp=function(e){0===e.button?t.leftDragging=!1:2===e.button&&(t.rightDragging=!1)},this.handleMouseLeave=function(){t.leftDragging=!1,t.rightDragging=!1},this.handleMouseMove=function(e){if(t.leftDragging){var n=t.graph.getTranslate();t.graph.setTranslate({x:n.x+e.movementX,y:n.y+e.movementY})}else t.rightDragging},this.handleContextMenu=function(e){e.preventDefault()},this.leftDragging=!1,this.rightDragging=!1,this.graph=e;var n=this.graph.getCanvas();n.style.cursor="grab",n.addEventListener("wheel",this.handleWheel),n.addEventListener("mousedown",this.handleMouseDown),n.addEventListener("mouseup",this.handleMouseUp),n.addEventListener("mouseleave",this.handleMouseLeave),n.addEventListener("mousemove",this.handleMouseMove),n.addEventListener("contextmenu",this.handleContextMenu)}return e.prototype.dispose=function(){var e=this.graph.getCanvas();e.style.cursor="default",e.removeEventListener("wheel",this.handleWheel),e.removeEventListener("mousedown",this.handleMouseDown),e.removeEventListener("mouseup",this.handleMouseUp),e.removeEventListener("mouseleave",this.handleMouseLeave),e.removeEventListener("mousemove",this.handleMouseMove),e.removeEventListener("contextmenu",this.handleContextMenu)},e}();t.default=r},function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=o(n(5)),s=o(n(6)),d=function(e){function t(t,n,r,i){var o=e.call(this,t,n,i)||this;return o.type=r,o}return i(t,e),t.prototype.render=function(e,t,n){var r=s.default.getScaledNodeStyle(this.type,n);e.font=r.fontStyle+" normal "+r.fontWeight+" "+r.fontSize+"px "+r.fontFamily;var i=e.measureText(this.text).width,o=1.4*r.fontSize,a=2*r.padding+i,d=2*r.padding+o,u={x:t.x*n-a/2,y:t.y*n-d/2};e.beginPath(),e.rect(u.x,u.y,a,d),e.closePath(),e.fillStyle=r.background,e.fill(),r.borderWidth>0&&(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.stroke()),e.beginPath(),e.fillStyle=r.color,e.fillText(this.text,u.x+r.padding,u.y+r.padding+r.fontSize)},t}(a.default);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t,n){this.parent=null,this.children=[],this.id=e,this.depth=t,this.text=n||""};t.default=r},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var i=n(7);var o={getScaledNodeStyle:function(e,t){var n=i.NODE_STYLES[e];return r(r({},n),{fontSize:n.fontSize*t,borderWidth:n.borderWidth*t,borderRadius:n.borderRadius*t,padding:n.padding*t})}};t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NODE_STYLES={ROOT:{fontSize:28,fontFamily:"Arial",fontWeight:"300",fontStyle:"normal",color:"#fff",background:"#666666",borderWidth:4,borderColor:"#000",borderRadius:6,padding:12},PRIMARY:{fontSize:18,fontFamily:"Arial",fontWeight:"normal",fontStyle:"normal",color:"#000",background:"#fff",borderWidth:2,borderColor:"#000",borderRadius:4,padding:8},SECONDARY:{fontSize:14,fontFamily:"Arial",fontWeight:"normal",fontStyle:"normal",color:"#000",background:"transparent",borderWidth:0,borderColor:"#000",borderRadius:0,padding:4}}}]);