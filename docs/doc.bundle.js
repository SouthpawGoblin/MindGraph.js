!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=1)}([function(t,e,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};Object.defineProperty(e,"__esModule",{value:!0});var r=n(7);var i={getScaledNodeStyle:function(t,e){var n=r.NODE_STYLES[t];return o(o({},n),{fontSize:n.fontSize*e,borderWidth:n.borderWidth*e,borderRadius:n.borderRadius*e,padding:n.padding*e})},getScaledLinkStyle:function(t){return o(o({},r.LINK_STYLE),{lineWidth:r.LINK_STYLE.lineWidth*t})},getTreeDepth:function(t){var e=[];return function t(e,n){0===e.children.length?n.push(e.depth):e.children.forEach((function(e){return t(e,n)}))}(t,e),Math.max.apply(Math,e)}};e.default=i},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(2)),i=document.getElementById("app");if(i){var a=new r.default.MindMap(i);a.render();var s=a.rootId,d=a.addNode(s,"primary");a.addNode(d,"secondary")}},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r={MindMap:o(n(3)).default};e.default=r},function(t,e,n){"use strict";var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var r=o(n(4)),i=o(n(5)),a=o(n(0)),s=function(){function t(e,n){var o=this;this.index={},this.render=function(){o.renderLoop&&(o.innerRender(),requestAnimationFrame(o.render))},this.parentDom=e,this.root=n||new i.default(t.nextId++,0,"ROOT","Main Theme"),this.index[this.root.id]=this.root;var a=document.createElement("canvas");a.id="mind-graph-mind-map",a.width=this.parentDom.clientWidth,a.height=this.parentDom.clientHeight,this.parentDom.appendChild(a),this.canvas=a,this.center={x:this.canvas.width/2,y:this.canvas.height/2};var s=this.canvas.getContext("2d");if(!s)throw new Error("Failed to get canvas context 2d.");this.ctx=s,this.scale=1,this.translate={x:0,y:0},this.control=new r.default(this),this.treeDepth=this.root.depth,this.needsUpdate=!0,this.renderLoop=!0}return Object.defineProperty(t.prototype,"rootId",{get:function(){return this.root.id},enumerable:!0,configurable:!0}),t.prototype.getCanvas=function(){return this.canvas},t.prototype.getScale=function(){return this.scale},t.prototype.getTranslate=function(){return this.translate},t.prototype.setScale=function(t){t!==this.scale&&(this.scale=t,this.needsUpdate=!0)},t.prototype.setTranslate=function(t){this.translate.x===t.x&&this.translate.y===t.y||(this.translate=t,this.needsUpdate=!0)},t.prototype.addNode=function(e,n){var o=this.index[e];if(!o)throw new Error('"addNode" failed, parent node not found.');var r="ROOT"===o.type?"PRIMARY":"SECONDARY",a=new i.default(t.nextId++,o.depth+1,r,n);return o.children.push(a),a.parent=o,this.index[a.id]=a,this.treeDepth=Math.max(this.treeDepth,a.depth),this.needsUpdate=!0,a.id},t.prototype.deleteNode=function(t){var e=this.index[t];if(!e||!e.parent)return-1;var n=e.parent.children.findIndex((function(e){return e.id===t}));return e.parent.children.splice(n,1),delete this.index[t],this.treeDepth=a.default.getTreeDepth(this.root),this.needsUpdate=!0,e.parent.id},t.prototype.updateNode=function(t,e){var n=this.index[t];if(!n)throw new Error('"updateNode" failed, node not found.');n.text=e,this.needsUpdate=!0},t.prototype.dispose=function(){this.renderLoop=!1,this.control.dispose(),this.canvas.remove()},t.prototype.innerRender=function(){if(this.needsUpdate){this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.ctx.translate(this.center.x+this.translate.x,this.center.y+this.translate.y);for(var t=0,e=0,n=[this.root];n.length>0;){var o=n.shift();o&&(o.render(this.ctx,{x:t+200*o.depth,y:e+-100*o.depth},this.scale),o.children.forEach((function(t){n.push(t)})))}this.needsUpdate=!1}},t.nextId=0,t}();e.default=s},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){var e=this;this.handleWheel=function(t){var n=e.graph.getScale()+(t.deltaY>0?-.05:.05);n<.1?n=.1:n>4&&(n=4),e.graph.setScale(n)},this.handleMouseDown=function(t){0===t.button?e.leftDragging=!0:2===t.button&&(e.rightDragging=!0)},this.handleMouseUp=function(t){0===t.button?e.leftDragging=!1:2===t.button&&(e.rightDragging=!1)},this.handleMouseLeave=function(){e.leftDragging=!1,e.rightDragging=!1},this.handleMouseMove=function(t){if(e.leftDragging){var n=e.graph.getTranslate();e.graph.setTranslate({x:n.x+t.movementX,y:n.y+t.movementY})}else e.rightDragging},this.handleContextMenu=function(t){t.preventDefault()},this.leftDragging=!1,this.rightDragging=!1,this.graph=t;var n=this.graph.getCanvas();n.style.cursor="grab",n.addEventListener("wheel",this.handleWheel),n.addEventListener("mousedown",this.handleMouseDown),n.addEventListener("mouseup",this.handleMouseUp),n.addEventListener("mouseleave",this.handleMouseLeave),n.addEventListener("mousemove",this.handleMouseMove),n.addEventListener("contextmenu",this.handleContextMenu)}return t.prototype.dispose=function(){var t=this.graph.getCanvas();t.style.cursor="default",t.removeEventListener("wheel",this.handleWheel),t.removeEventListener("mousedown",this.handleMouseDown),t.removeEventListener("mouseup",this.handleMouseUp),t.removeEventListener("mouseleave",this.handleMouseLeave),t.removeEventListener("mousemove",this.handleMouseMove),t.removeEventListener("contextmenu",this.handleContextMenu)},t}();e.default=o},function(t,e,n){"use strict";var o,r=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var a=i(n(6)),s=i(n(0)),d=function(t){function e(e,n,o,r){var i=t.call(this,e,n,r)||this;return i.type=o,i.boundingBox={x:0,y:0,width:0,height:0},i.leftHookPos={x:0,y:0},i.rightHookPos={x:0,y:0},i}return r(e,t),e.prototype.render=function(t,e,n){var o=s.default.getScaledNodeStyle(this.type,n);t.font=o.fontStyle+" normal "+o.fontWeight+" "+o.fontSize+"px "+o.fontFamily;var r=t.measureText(this.text).width,i=1.4*o.fontSize,a=2*o.padding+r,d=2*o.padding+i,h={x:e.x*n-a/2,y:e.y*n-d/2},u=o.borderWidth/2;if(this.boundingBox={x:h.x-u,y:h.y-u,width:a+o.borderWidth,height:d+o.borderWidth},this.leftHookPos={x:this.boundingBox.x,y:this.boundingBox.y+this.boundingBox.height/2},this.rightHookPos={x:this.boundingBox.x+this.boundingBox.width,y:this.boundingBox.y+this.boundingBox.height/2},t.beginPath(),t.rect(h.x,h.y,a,d),t.fillStyle=o.background,t.fill(),o.borderWidth>0&&(t.strokeStyle=o.borderColor,t.lineWidth=o.borderWidth,t.stroke()),t.beginPath(),t.fillStyle=o.color,t.fillText(this.text,h.x+o.padding,h.y+o.padding+o.fontSize),this.parent){var l=s.default.getScaledLinkStyle(n),f=this.parent,c=this.leftHookPos.x-f.rightHookPos.x;t.beginPath(),t.moveTo(f.rightHookPos.x,f.rightHookPos.y),t.bezierCurveTo(f.rightHookPos.x+l.cp1Ratio*c,f.rightHookPos.y,f.rightHookPos.x+l.cp2Ratio*c,this.leftHookPos.y,this.leftHookPos.x,this.leftHookPos.y),t.lineWidth=l.lineWidth,t.strokeStyle=l.lineColor,t.stroke()}},e}(a.default);e.default=d},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=function(t,e,n){this.parent=null,this.children=[],this.id=t,this.depth=e,this.text=n||""};e.default=o},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.NODE_STYLES={ROOT:{fontSize:28,fontFamily:"Arial",fontWeight:"300",fontStyle:"normal",color:"#fff",background:"#666666",borderWidth:4,borderColor:"#000",borderRadius:6,padding:12},PRIMARY:{fontSize:18,fontFamily:"Arial",fontWeight:"normal",fontStyle:"normal",color:"#000",background:"#fff",borderWidth:2,borderColor:"#000",borderRadius:4,padding:8},SECONDARY:{fontSize:14,fontFamily:"Arial",fontWeight:"normal",fontStyle:"normal",color:"#000",background:"transparent",borderWidth:0,borderColor:"#000",borderRadius:0,padding:4}},e.LINK_STYLE={lineWidth:1,lineColor:"#000",cp1Ratio:.2,cp2Ratio:.2}}]);