!function(e){var t={};function r(o){if(t[o])return t[o].exports;var n=t[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=e,r.c=t,r.d=function(e,t,o){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(r.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)r.d(o,n,function(t){return e[t]}.bind(null,n));return o},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=1)}([function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAP_HORIZONTAL_INTERVAL=40,t.MAP_VERTICAL_INTERVAL=20,t.MAP_NODE_STYLES={root:{fontSize:28,fontFamily:"Arial",fontWeight:"300",fontStyle:"normal",color:"#fff",background:"#666666",borderWidth:4,borderColor:"#000",borderRadius:6,padding:12},primary:{fontSize:18,fontFamily:"Arial",fontWeight:"normal",fontStyle:"normal",color:"#000",background:"#fff",borderWidth:2,borderColor:"#000",borderRadius:4,padding:8},secondary:{fontSize:14,fontFamily:"Arial",fontWeight:"normal",fontStyle:"normal",color:"#000",background:"transparent",borderWidth:0,borderColor:"#000",borderRadius:0,padding:4}},t.MAP_LINK_STYLE={lineWidth:1,lineColor:"#000",cp1Ratio:.2,cp2Ratio:.2}},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(2)),i=document.getElementById("app");if(i){var d=new n.default.MindMap(i);d.render();var a=d.rootId,s=d.addNode(a,"primary");d.addNode(a,"primary2"),d.addNode(a,"primary3");var c=d.addNode(a,"primary3");d.addNode(c,"sec3"),d.addNode(c,"sec3"),d.addNode(c,"sec3"),d.addNode(a,"primary3");var l=d.addNode(a,"primary3");d.addNode(l,"sec5"),d.addNode(l,"sec5"),d.addNode(l,"sec5"),d.addNode(l,"sec5"),d.addNode(l,"sec5"),d.addNode(l,"sec5"),d.addNode(s,"secondary");var h=d.addNode(s,"secondary2");d.addNode(h,"sec"),d.addNode(h,"sec"),d.addNode(h,"sec"),d.addNode(h,"sec")}},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n={MindMap:o(r(3)).default};t.default=n},function(e,t,r){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(r(4)),i=o(r(6)),d=r(0),a=function(){function e(t){var r,o=this;this.render=function(){o._renderLoop&&(o._innerRender(),requestAnimationFrame(o.render))},this._parentDom=t,this._root=new n.default(e.nextNodeId++,"root",0,"Main Theme"),this._nodeIndex=((r={})[this._root.id]=this._root,r);var i=document.createElement("canvas");i.id="mind-graph-map",i.width=this._parentDom.clientWidth,i.height=this._parentDom.clientHeight,this._parentDom.appendChild(i),this._canvas=i,this._center={x:this._canvas.width/2,y:this._canvas.height/2};var d=this._canvas.getContext("2d");if(!d)throw new Error("Failed to get canvas context 2d.");this._ctx=d,this._scale=1,this._translate={x:0,y:0},this._needsUpdate=!0,this._renderLoop=!0}return e.prototype.scale=function(e){return void 0!==e&&e!==this._scale&&(this._scale=e,this._needsUpdate=!0),this._scale},e.prototype.translate=function(e){return void 0!==e&&e.x!==this._translate.x&&e.y!==this._translate.y&&(this._translate=e,this._needsUpdate=!0),this._translate},Object.defineProperty(e.prototype,"rootId",{get:function(){return this._root.id},enumerable:!0,configurable:!0}),e.prototype.addNode=function(t,r){var o=this._nodeIndex[t];if(!o)throw new Error('"addNode" failed, parent node not found.');var i="root"===o.type()?"primary":"secondary",a=new n.default(e.nextNodeId++,i,o.depth+1,r);o.children.push(a),a.parent=o;var s=o.children.reduce((function(e,t){return e+t.verticalSpace()}),0);return(s+=(o.children.length-1)*d.MAP_VERTICAL_INTERVAL)>o.verticalSpace()&&this._traceBackUpdateVerticalSpaces(o,s-o.verticalSpace()),this._nodeIndex[a.id]=a,this._needsUpdate=!0,a.id},e.prototype.deleteNode=function(e){var t=this._nodeIndex[e];if(!t||"root"===t.type())return-1;var r=t.parent.children.findIndex((function(t){return t.id===e}));return t.parent.children.splice(r,1),this._traceBackUpdateVerticalSpaces(t.parent,-(t.verticalSpace()+d.MAP_VERTICAL_INTERVAL)),delete this._nodeIndex[e],this._needsUpdate=!0,t.parent.id},e.prototype.updateNode=function(e,t){var r=this._nodeIndex[e];if(!r)throw new Error('"updateNode" failed, node not found.');var o=r.verticalSpace();r.text(t);var n=r.verticalSpace()-o;this._traceBackUpdateVerticalSpaces(r.parent,n),this._needsUpdate=!0},e.prototype.dispose=function(){this._renderLoop=!1,this._control.dispose(),this._canvas.remove()},e.prototype._innerRender=function(){var e=this;if(this._needsUpdate){this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._ctx.translate(this._center.x+this._translate.x,this._center.y+this._translate.y);for(var t=[{node:this._root,pos:{x:-this._root.size.w/2,y:-this._root.size.h/2}}],r=function(){var r=t.shift();o._renderNode(r);var n=r.node.children.reduce((function(e,t){return e+t.verticalSpace()}),0);n+=(r.node.children.length-1)*d.MAP_VERTICAL_INTERVAL;var i=r.pos.x+r.node.size.w+d.MAP_HORIZONTAL_INTERVAL,a=r.pos.y+r.node.size.h/2-n/2;r.node.children.forEach((function(o,n){a+=o.verticalSpace()/2-o.size.h/2;var s={node:o,pos:{x:i,y:a}};e._renderLink(r,s),t.push(s),a+=o.size.h/2+o.verticalSpace()/2+d.MAP_VERTICAL_INTERVAL}))},o=this;t.length>0;)r();this._needsUpdate=!1}},e.prototype._renderNode=function(e){var t=i.default.getScaledNodeStyle(e.node.type(),this._scale),r=e.pos.x*this._scale,o=e.pos.y*this._scale,n=e.node.size.w*this._scale,d=e.node.size.h*this._scale,a=this._ctx,s={x:r+t.borderWidth,y:o+t.borderWidth,w:n-2*t.borderWidth,h:d-2*t.borderWidth};if(a.beginPath(),a.fillStyle=t.background,a.fillRect(s.x,s.y,s.w,s.h),t.borderWidth>0){a.beginPath();var c={x:r+t.borderWidth/2,y:o+t.borderWidth/2,w:n-t.borderWidth,h:d-t.borderWidth};a.strokeStyle=t.borderColor,a.lineWidth=t.borderWidth,a.strokeRect(c.x,c.y,c.w,c.h)}a.beginPath(),a.font=t.fontStyle+" normal "+t.fontWeight+" "+t.fontSize+"px "+t.fontFamily,a.fillStyle=t.color,a.fillText(e.node.text(),r+t.padding+t.borderWidth,o+t.padding+t.borderWidth+t.fontSize)},e.prototype._renderLink=function(e,t){var r={x:(e.pos.x+e.node.size.w)*this._scale,y:(e.pos.y+e.node.size.h/2)*this._scale},o={x:t.pos.x*this._scale,y:(t.pos.y+t.node.size.h/2)*this._scale},n=o.x-r.x,d=i.default.getScaledLinkStyle(this._scale),a=this._ctx;a.beginPath(),a.moveTo(r.x,r.y),a.quadraticCurveTo(r.x+d.cp2Ratio*n,o.y,o.x,o.y),a.lineWidth=d.lineWidth,a.strokeStyle=d.lineColor,a.stroke()},e.prototype._traceBackUpdateVerticalSpaces=function(e,t){for(var r=e;r;)r.verticalSpace(r.verticalSpace()+t),r=r.parent},e.nextNodeId=0,e}();t.default=a},function(e,t,r){"use strict";var o,n=this&&this.__extends||(o=function(e,t){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var d=i(r(5)),a=r(0),s=function(e){function t(t,r,o,n,i){var d=e.call(this,t,n,i)||this;return d.parent=null,d.children=[],d._type=r,d.depth=o,d._size={w:0,h:0},d._updateSize(),d._verticalSpace=d._size.h,d}return n(t,e),t.prototype.text=function(e){return void 0!==e&&e!==this._text&&(this._text=e,this._updateSize()),this._text},t.prototype.comment=function(e){return void 0!==e&&e!==this._comment&&(this._comment=e,this._updateSize()),this._comment},t.prototype.type=function(e){return void 0!==e&&e!==this._type&&(this._type=e,this._updateSize()),this._type},t.prototype.verticalSpace=function(e){return void 0!==e&&e!==this._verticalSpace&&(this._verticalSpace=e),this._verticalSpace},Object.defineProperty(t.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),t.prototype._updateSize=function(){var e=a.MAP_NODE_STYLES[this._type],t=document.createElement("canvas").getContext("2d");if(!t)throw new Error("Failed to get rulerCanvas context 2d.");t.font=e.fontStyle+" normal "+e.fontWeight+" "+e.fontSize+"px "+e.fontFamily;var r=t.measureText(this._text).width,o=1.4*e.fontSize,n=2*e.padding+2*e.borderWidth,i=r+n,d=o+n;this._size={w:i,h:d}},t}(d.default);t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(e,t,r){this.id=e,this._text=t||"",this._comment=r||""};t.default=o},function(e,t,r){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,r=1,o=arguments.length;r<o;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}).apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var n=r(0);var i={getScaledNodeStyle:function(e,t){var r=n.MAP_NODE_STYLES[e];return o(o({},r),{fontSize:r.fontSize*t,borderWidth:r.borderWidth*t,borderRadius:r.borderRadius*t,padding:r.padding*t})},getScaledLinkStyle:function(e){return o(o({},n.MAP_LINK_STYLE),{lineWidth:n.MAP_LINK_STYLE.lineWidth*e})}};t.default=i}]);